Ключові аспекти: методи роботи з датами і часом

datetime.now(): Метод повертає об'єкт datetime, який містить поточну дату та час.
datetime.date(): Цей метод повертає об'єкт date, який представляє лише дату (без часу).
datetime.time(): Метод повертає об'єкт time, який містить лише час (без дати).
datetime.combine(date, time): Цей метод використовується для об'єднання об'єктів date та time і створення нового об'єкта datetime.
datetime(year, month, day, hour=0, minute=0, second=0, microsecond=0): Конструктор класу datetime дозволяє створити об'єкт datetime з конкретною датою та часом.
weekday(): Метод визначає номер дня тижня для вказаної дати, де понеділок має номер 0, а неділя - 6.

Методи порівняння об'єктів datetime:

== (рівність): Порівнює, чи є дві дати рівні.
!= (нерівність): Порівнює, чи дві дати не є рівними.
< (менше): Визначає, чи одна дата передує іншій.
> (більше): Визначає, чи одна дата наступає за іншою.
<= (менше або дорівнює): Порівнює, чи одна дата менше або дорівнює іншій.
>= (більше або дорівнює): Порівнює, чи одна дата більше або дорівнює іншій.

Об'єкт timedelta можна створити, задаючи тижні, дні, години, хвилини, секунди, мілісекунди і мікросекунди, передавши один або кілька з таких параметрів: days, seconds, microseconds, milliseconds, minutes, hours, weeks. Якщо якийсь параметр не заданий, то він дорівнює 0 за замовчуванням.

Ми можемо використати метод toordinal(), який повертає порядковий номер дня, враховуючи кількість днів з 1 січня року 1 нашої ери (тобто з початку християнського календаря). Цей метод перетворює об'єкт datetime в ціле число, що представляє порядковий номер даного дня.

☝ timestamp є універсальним способом представлення часу, оскільки він не залежить від часових зон і календарних систем
timestamp (часова мітка) використовується для вказівки конкретного моменту в часі. Це зазвичай представляється як кількість секунд (або мілісекунд/мікросекунд у деяких системах) з певної початкової дати, найчастіше з 1 січня 1970 року в UTC, це часовий пояс Гринвіча

Парсинг дати із рядка

Коли потрібно відобразити дату та час у зрозумілому для людини форматі, ми використовуємо метод strftime. Він застосовується при записувані часових міток у файли логування, при відображані дати та часу на веб-сторінках або в інтерфейсах користувача, а також при форматуванні дат для збереження в базах даних.

Отже метод strftime використовується для форматування об'єктів дати та часу datetime у рядки за допомогою специфічних форматних кодів. Цей метод дає можливість представити дату та час у зручному для читання форматі або в форматі, що відповідає специфічним вимогам.

Синтаксис методу strftime виглядає наступним чином:

datetime_object.strftime(format)
Де datetime_object - це об'єкт datetime, а format - рядок формату, який визначає, як дата та час повинні бути представлені.

Кожен код у рядку формату починається з символу % і представляє певний компонент дати або часу. Ось деякі з найбільш використовуваних кодів:

%Y - рік з чотирма цифрами (наприклад, 2023).
%y - рік з двома цифрами (наприклад, 23).
%m - місяць як номер (наприклад, 03 для березня).
%d - день місяця як номер (наприклад, 14).
%H - година (24-годинний формат) (наприклад, 15).
%I - година (12-годинний формат) (наприклад, 03).
%M - хвилини (наприклад, 05).
%S - секунди (наприклад, 09).
%A - повна назва дня тижня (наприклад, Tuesday).
%a - скорочена назва дня тижня (наприклад, Tue).
%B - повна назва місяця (наприклад, March).
%b або %h - скорочена назва місяця (наприклад, Mar).
%p - AM або PM для 12-годинного формату.

Метод strptime в Python використовується для перетворення рядків у об'єкти datetime. Цей метод є протилежністю до strftime, який перетворює об'єкти datetime у рядки. strptime дозволяє аналізувати рядки, що містять дату та/або час, і перетворювати їх на структуровані об'єкти datetime за допомогою визначеного формату.

Синтаксис методу strptime виглядає наступним чином:

datetime_object = datetime.strptime(string, format)


де:
string - рядок, який містить дату та/або час.
format - рядок формату, який вказує, як розібрати string.

Коди форматування для strptime такі ж, як і для strftime. Наприклад, %Y представляє рік із чотирма цифрами, %m - місяць у вигляді двоцифрового числа тощо.
З точки зору застосування, метод strptime корисний, коли потрібно обробляти дати та часи, які отримані у форматі рядка, наприклад, з текстових файлів, користувацького вводу, веб-запитів або баз даних. Він дозволяє перетворити ці рядки на об'єкти datetime, якими вже потім легко маніпулювати в коді.

Функція ord() в Python - це вбудована функція, яка використовується для отримання Unicode коду символу. Коли ви працюєте з текстом в Python, кожен символ у рядку має відповідний числовий код - Unicode. Функція ord() приймає символ і повертає його Unicode код, який є цілим числом.
Прикладом блоку може бути:

\w — будь-яка цифра або буква [a-zA-Z0-9_] (\W — все, крім букви або цифри [^a-za-z0-9_])
\d — будь-яка цифра [0-9] (\D — усе, крім цифри [^0-9])
\s — будь-який пробільний символ [\t\n\r\f\v] (\S — усе, крім пробільних символів [^\t\n\r\f\v])
\b — межа слова
[...] — один із символів у дужках ([^ ] — будь-який символ, крім тих, що в дужках)
^ і $ — початок і кінець рядка відповідно
( ) — групує вираз і повертає знайдений текст
\t, \n, \r — символ табуляції, нового рядка та повернення каретки

Модифікатори можуть вказувати на кількість повторень блоку у виразі, наприклад:

. — один будь-який символ, крім рядка \n
? — 0 або 1 входження шаблону зліва
+ — 1 і більше входжень шаблону зліва
* — 0 і більше входжень шаблону зліва
\ — екранування спец.символів (приклад: \. — означає крапку або \+ — знак "плюс")
{n} суворо n разів (n ціле число)
{n,m} — від n до m входжень (приклад: {,m} — від 0 до m)
a|b — відповідає a або b. Сам символ | означає "або" між двома шаблонами
( ) — групує вираз і повертає знайдений текст

Кожен з цих елементів дозволяє створювати гнучкі та потужні шаблони пошуку в тексті за допомогою регулярних виразів. Саме складання регулярних виразів — це дуже велика тема варта окремого вивчення.
Для роботи з регулярними виразами у Python є стандартний модуль re. Щоб скористатися цим модулем, його потрібно спочатку імпортувати:

import re
Метод re.findall() використовується для знаходження всіх входжень шаблону, заданого регулярним виразом, у заданому рядку.

Синтаксис методу:

import re

matches = re.findall(pattern, string)
Загальним для усіх функцій модуля re є те, що першим аргументом йде регулярний вираз у вигляді рядка.


Метод sub

Метод re.sub() в модулі re Python використовується для заміни входжень регулярного виразу pattern в рядку string на рядок repl. Це дуже корисно для модифікації тексту.

Синтаксис:

import re

modified_string = re.sub(pattern, repl, string)


pattern - регулярний вираз, який вказує на частину рядка, яку потрібно замінити.
repl - рядок, на який буде замінено збіги.
string - рядок, в якому відбувається заміна.

Метод повертає рядок, у якому всі входження pattern замінені на repl.

Метод split

Функція re.split() в модулі re Python використовується для розбивання рядка за заданим регулярним виразом. Це дозволяє розділяти текст на частини за складнішими критеріями, ніж простий рядковий метод split().

Синтаксис:

import re

list_of_elements = re.split(pattern, string)


pattern - регулярний вираз, який використовується як роздільник.
string - рядок, який потрібно розділити.

Метод повертає список рядків, розділених за заданим регулярним виразом.

Ключові аспекти: основні функції модуля re

Регулярні вирази в Python - потужний інструмент для пошуку, заміни та маніпуляції текстовою інформацією. Вони дозволяють виконувати складні операції над рядками за допомогою досить лаконічного синтаксису. Основні функції модуля re, які ми розглянули:

re.search(pattern, string) - використовується для пошуку першого входження шаблону в рядку. Повертає об'єкт Match, якщо відповідність знайдена.
re.findall(pattern, string) - знаходить всі входження шаблону в рядку. Повертає список всіх знайдених відповідностей.
re.sub(pattern, repl, string) - замінює всі входження шаблону в рядку на інший рядок. Використовується для модифікації та форматування тексту.
re.split(pattern, string) - розбиває рядок за заданим шаблоном. Повертає список рядків, отриманих після розділення.

Використання регулярних виразів вимагає розуміння їхнього синтаксису та особливостей. Спеціальні символи, такі як *, +, ?, квадратні та круглі дужки, мають конкретні функції у регулярних виразах. Розуміння цих елементів дозволяє виконувати складні операції пошуку та редагування з текстом.
Коректне застосування регулярних виразів може значно спростити обробку тексту, автоматизацію задач та вирішення складних проблем обробки даних.

